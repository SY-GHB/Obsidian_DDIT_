##### 트랜잭션
- 데이터베이스에서 하나의 논리적 기능을 수행하기 위한 일련의 연산 집합으로서 작업의 단위. 자바로 치면 클래스라고 볼 수 있다.
###### 트랜잭션의 데이터 무결성을 보장하기 위해 갖추어야 할 특성
1) 원자성: ALL or Nothing
 커밋<font color="#a5a5a5">(정상. 이용자 개인 메모리에만 남기지 않고 서버에 저장함.  한 번 서버에 저장하면 되돌릴 수 없다. (편법으로 72시간정도는 가능하나 보장할 수 없는 방법이다.))</font> 또는 롤백<font color="#a5a5a5">(비정상 익셉션이 일어났을때 여태까지 처리된 내용이 다 사라짐= 처리되기 전의 시점으로 돌림)</font> 둘 중의 하나로 끝나야 한다. <font color="#a5a5a5">익셉션-그렇게 중대하지 않은 오류(심한 오류는 에러)</font>
 
2) 일관성: 시스템이 가진 고정요소는 트랜잭션 수행 전과 완료 후의 상태가 같다.

3) 고립성: 순차적 실행
  한 트랜잭션이 데이터를 갱신하는 동안 이 트랜잭션이 완료되기 전에는 갱신중인 데이터를 다른 트랜잭션들이 접근하지 못하도록 해야한다. 
  - 예를 들어) 내가 100만원이 남은 통장에서 100만원을 꺼내는 작업 동안 다른 사람이 내 통장에서 100만원을 꺼낸다고 해서 200만원을 꺼낼 수 있는 게 아니다.
  
4) 지속성: 성공적으로 수행된 트랜잭션은 영원히 반영되어야 한다. 로그에 모든 것이 저장된 후에만 커밋상태로 간주한다.

##### RDB(Relational DataBase, 관계형 데이터베이스) 테이블
관계형 데이터베이스의 3요소는 1. 속성(attribute) 2.개체(entity) 3.관계(relationship)이다.
테이블은 행과 열로 이루어지는데, 
- 행: Row, instance, tupple(레코드,,) 등으로 부르며 데이터가 없으면 없을수도 있다.
- 열: 속성, attribute, column, 필드 등으로 부르며 반드시 하나 이상 존재해야 한다.
	-  열이 없는 테이블이란 건 존재할 수 없다. 
	-  관계를 맺으려면 컬럼명을 같은 이름으로 사용하길 권장한다.
	-  row num(행 번호) 은 pseudo column(가짜 컬럼, 가짜 열)이다. 속지말자.
- domain: coulmn이 가질 수 있는 값의 집합
 저장되는 데이터 값들이 본래 의도했던 값들만 저장되고 관리되도록 하는데 있음.
 예)‘성별’이라는 속성이 있다면 이 속성이 가질 수 있는 값은{남,여}.
 그러나 설정하기 현실적으로 어려운 특성이 있다:
 그래서 대부분의 DBMS 제품에서는 사용자 정의 데이터 타입을 사용한다.
 Ex) 데이터 타입과 길이를 미리 지정, 데이터 값의 범위를 지정

##### SQL(Structured Query Language, 구조적 질의어)란?
: 데이터베이스에 접근하고 조작하기 위해 사용하는 표준 프로그래밍 언어.
-  SQL구조적 질의 언어<->절차적 언어(C언어나 파스칼 언어 등이 속한다.)
-  SQL은 변수가 존재하지 않고, 반복문, 분기명령도 없다. = 프로그램의 순서 변경이 불가능하다.
-  자연어에 가까운 문법으로 배우기 용이하다.
-  데이터를 가지고 오는 방법보다는 무엇을 갖고 올지에만 집중해 데이터를 다루는 작업이 단순해질 수 있다.
- 명령이나 문법이 표준화되어 있어 호환성이 높다.
-  ANSI american national standard institoute에서 SQL표준을 제정하는데, 오라클에서 사용하는 것도 표준 언어이다.

##### 키(KEY, 식별자)의 정의와 종류
###### 식별자란?
한 Entity 내에서 각각의 튜플을 구분할 수 있게 해 주는 단일 또는 그룹 컬럼. Entity 내에서 식별자에 동일한 값이 중복되지 않도록 해 준다.
모든 Entity는 반드시 하나 이상의 식별자를 보유해야 하며, 여러 식별자를 보유하는 경우도 있다. 

###### 식별자의 종류

1) 후보키 (candidate key): 테이블에서 각 튜플을 구별하는데 기준이 되는 하나 혹은 그 이상의 컬럼들의 집합으로,  후보키는 테이블에 있는 각 튜플을 고유하게 식별할 수 있어야 한다.
 - **기본 키**(PK, primary key): 기본 키가 변경되면 나머지 열들이 변경된다.
	기본키의 특징 2가지는 꼭 기억해야 한다.
	- NOT NULL: 기본키에는 null값이 들어올 수 없다.
	  null이란 길이를 갖지 않는 값으로, 길이가 하나라도 있는 0과는 다른 개념이다. 
	  (자바에서는 "", 오라클에서는 ''(white space)로 입력할 수 있다.)
	- NO DUPLICATE: 절대로 중복될 수 없다.
 - 대체 키(alternate key): 후보키 중 기본키로 선택되지 않은 나머지 키

2) 복합 키 (composite key)
   하나의 컬럼이 후보키의 역할을 하지 못하고 두 개  이상의 컬럼이 합쳐져야 후보키의 역할을 하는 경우에 복합 키라고 한다.

3) 외래키(FK, foreign key): 관계(업무적 연관성)를 맺을 때 쓰이는 키.
 -  상호 관련이 있는 테이블들 사이에서 데이터의 일관성을 보장해 주는 수단이다.
 -  두 테이블 사이에 존재하며 관계를 맺는 두 테이블 중 하나는 부모 테이블, 하나는 자식테이블이다.
 - 부모테이블의 기본키는 자식테이블에 외래키로 전이된다.
 - 식별관계와 비식별관계로 나눌 수 있다.
  ```
  관계도를 그릴 때, 화살표가 닿는 쪽이 부모테이블, 오리발이 닿는 쪽이 자식테이블이다 
  비식별관계는 --- 점선으로 표시하고 *부모테이블의 기본키가 자식테이블의 일반 컬럼
  식별관계는 —— 실선으로 표시한다. *부모테이블의 기본키가 자식테이블의 기본 키
  부모가 없어지면 자식이 필요없어지는 관계를 식별관계라고 한다. 
  (ex. 내 몸과 내 팔의 관계)
  ```

###### 참조무결성
관계형 데이터베이스 모델에서 관계(릴레이션)는 참조할 수 없는 외래 키(FK)를
가져서는 안 된다는 조건.
자식테이블의 FK는 부모테이블의 PK를 벗어나는 범위를 사용할 수 없다.
관계 간의 일관성 유지를 위해 자식테이블을 갖고 있을 때는(=관계가 맺어지면) 부모 테이블도 삭제, 갱신이 상당히 제한된다.

만약 두 테이블 간에 외래키에 의한 참조간에 있을 때 두 테이블간 데이터 불일치가 일어난다면,
DBMS는 제한(restrict), 연쇄(cascade), 널 값으로 대체(nullify) 같은 조치를 취할 수 있다.
- 제한(restrict): 삭제연산을 거절한다.
- 연쇄(cascade): PK를 가지고 있는 테이블의 값을 삭제하면 자식테이블에 FK로 연결된 값도 동시에 삭제한다.
- 널 값으로 대체(nullify): 삭제연산을 수행한 뒤 삭제된 자식테이블의 튜플에서 FK를 null값으로 대체한다. (거의 쓰지 않는다고 하신다.)

##### SQL 명령어
학자별로 분류가 조금 바뀌는 경우가 있다고 하셨는데
우리는 지금 분류를 신경쓸 때가 아니라고 하셨다…
1) Query
- SELECT(조회문. 가장 변화무쌍하며, 가장 많이 배울 것이다.)

2) DML (Data Manipulation Language, 조작어)
- INSERT(대상이 없어야 함)
- UPDATE(대상이 있어야 함)
- DELETE(대상이 있어야 함)
- 여기에 SLELECT가 포함되기도 한다.

3) DDL (Data Definition Language, 정의어)
- CREATE
- ALTER
- DROP 등

4) DCL (Data Control Language, 제어어)
- GRANT 권한부여
- REVOKE 권한회수
- COMMIT 데이터베이스를 하드디스크에 저장함.
- ROLLBACK 되돌리기. 그러나 커밋 이후에는 사용할 수 없다.

