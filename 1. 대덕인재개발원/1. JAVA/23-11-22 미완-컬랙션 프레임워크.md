
### 13-1 컬렉션 프레임워크

자바는 자료구조를 사용해서 객체들을 효율적으로 추가, 삭제, 검색할 수 있도록 인터페이스와 구현 클래스를 java.util패키지에서 제공한다. 이들을 총칭해 컬렉션 프레임워크라고 부른다.

컬렉션은 객체의 저장을, 프레임워크는 사용방법을 정해놓은 라이브러리를 말한다. 
컬렉션 프레임워크의 주요 인터페이스로는 List, Set, Map이 있다.이 인터페이스들은 컬렉션클래스를 사용하는 방법을 정의한 것이다.

       collection
       iterater
    |          |
  list                set               map
    |                  |                    |
-ArrayList       HashSet        HashMap
-Vector          TreeSet         HashTable
-LinkedList                         TreeMap
                                         Properties 

대충 이런 구조이다.

#### 1. List 컬렉션
배열과 비슷하게 객체를 인덱스로 관리하며, 객체의 저장 순서를 유지한다.
배열과의 차이점
- 저장용량이 자동으로 증가한다.
- 객체를 저장할 때 자동 인덱스가 부여된다.
- 추가, 삭제, 검색을 위한 다양한 메소드들이 제공된다.

객체 자체를 저장하는 것이 아니라 객체의 번지를 참조한다. 그렇기 때문에 동일한 객체를 중복저장할 수 있고, 이 경우 동일한 번지가 참조된다.
null도 저장가능하지만 해당 인덱스는 객체를 참조하지 않는다.

List컬렉션에서는 ArrayList, Vector, LinkedList 등이 있는데, 아래는 이들 모두에서 공통적으로 사용 가능한 List 인터페이스의 메소드들이다.
인덱스로 객체를 관리하기 때문에 인덱스를 매개값으로 갖는 메소드가 많다.

|기능|메소드|설명|
|---|---|---|
|추가|boolean add(E e)|주어진 객체를 맨 끝에 추가한다.|
|추가|void add(int index, E element)|주어진 인덱스에 객체를  추가한다.|
|추가|E set(int index, E element)|주어진 인덱스에 저장된 객체를 주어진 객체로 바꾼다.|
|검색|boolean contains(Object o)|주어진 객체가 저장되어 있는지 검색한다.|
|검색|E get(int index)|주어진 인덱스에 저장된 객체를 리턴한다.|
|검색|boolean isEmpty()|컬렉션이 비어있는지 조사한다.|
|검색|int size()|저장되어 있는 전체 객체 수를 리턴한다.|
|삭제|void clear()|저장된 모든 객체를 삭제한다.|
|삭제|E remove(int index)|주어진 인덱스에 저장된 객체를 삭제한다.|
|삭제|boolean remove(Object o)|주어진 객체를 삭제한다.|

E라는 파라미터는 저장되는 객체의 타입을 List컬렉션을 생성할 때 결정하라는 뜻이다.

##### 1) ArrayList 
```
List<E> list = new ArrayList<E>();
*E는 타입 파라미터이다. 두번째 E는 생략할 수 있고, 생략하면 왼쪽 List에 지정된 타입을 따라간다.
```
1차원 배열구조를 가지고 있으며, 중복을 허락하고 순서화를 제공한다(객체의 저장 순서를 유지한다).  List타입의 컬렉션이다.

주요 메서드
```
.add(데이터): ArrayList에 데이터 삽입
.contains(Object obj): ArrayList에 저장된 데이터에 obj가 있는지 판단,
					   있다면 true 없으면 false반환
 .get(int index): index번째 자료 반환
 .iterator(): 반복자료 객체에 저장된 자료를 맨 처음부터 마지막까지 순차적으로 검색
 .clear(): ArrayList의 모든 내용 초기화
 .remove(int index): 리스트에 특정값 삭제. 반환값 있음. 
```

기본 생성자로 ArrayList 객체를 생성하면 내부에 10개의 객체를 저장할 수 있는 초기용량을 가지게 된다. 저장되는 객체 수가 늘어나면 용량이 자동으로 증가한다.
특정 인덱스의 객체를 삭제하면 앞당겨지고, 특정 인덱스에 객체를 삽입하면 마지막 인덱스까지 인덱스값이 1씩 밀려나는 특징이 있어 빈번한 객체 삭제와 삽입이 일어나는 곳에서는 사용하기 적합하지 않다.

```
2)vector 
3)LinkedList 는 일단 패스했다.
```


#### 2. Set 컬렉션
List컬렉션과 달리 Set컬렉션은 저장 순서가 유지되지 않는다.
또한 객체를 중복해서 저장할 수 없고, 하나의 null만 저장할 수 있다.

|기능|메소드|설명|
|---|---|---|
|추가|boolean add(E e)|주어진 객체를 저장한다. 성공적으로 저장되면 true, 중복 객체면 false를 리턴한다.|
|검색|boolean contains(Object o)|주어진 객체가 저장되어있는지 조사한다.|
|검색|boolean isEmpty()|컬렉션이 비어 있는지 조사한다.|
|검색|Iterator<``E``> iterator()|저장된 객체를 한 번씩 가져오는 반복자를 리턴한다.|
|검색|int size()| 저장되어 있는 전체 객체 수를 리턴한다. |
|삭제|void clear()|저장된 모든 객체를 삭제한다.|
|삭제|boolean remove(Object o)|주어진 객체를 삭제한다.|


Set컬렉션은 인덱스로 객체를 검색해서 가져오는 메소드가 없는 대신, 전체 객체를 대상으로 한 번씩 반복해서 가져오는 반복자Iterator를 제공한다. 반복자는 Iterator인터페이스를 구현한 객체를 말하는데, iterator()메소드를 호출하면 얻을 수 있다.

다음은 Iterator 인터페이스에 선언된 메소드들이다.

|리턴 타입|메소드|설명|
|---|---|---|
|boolean|hasNext()|가져올 객체가 있으면 true를 리턴하고 없으면 false를 리턴|
|E|next()|컬렉션에서 하나의 객체를 가져온다.|
|void|remove()|Set컬렉션에서 객체를 제거한다.|

다음은  set컬렉션에서 String 객체들을 반복해서 하나씩 가져오는 코드를 보여준다.
```
Set<String> set = ...;
Iterator<String> iterator = set.iterator();
//저장된 객체 수만큼 반복한다.
while(iterator.hasNext()){
	//String객체 하나를 가져옴
	String str = iterator.next();
}
```
Iterator를 사용하지 않더라도 향상된 for문을 이용해서 전체 객체를 대상으로 반복할 수 있다.
```
Set<String> set = ...;
for(STring str : set){

}
```


##### 1. HashSet 
set인터페이스의 구현 클래스이다.
Hashset을 생성하기 위해서는 다음과 같이 기본 생성자를 호출하면 된다.
```
Set<E> set = new HashSet<E>;
```

HashSet도 Set컬렉션이므로 객체들을 순서 없이 저장하고 동일한 객체를 중복저장하지 않는다. 이미 저장된 객체들과 해시코드와 같고, 동일한 해시코드가 있다면 equal()메소드로 두 객체를 비교해 true가 나오면 동일한 객체로 판단하고 중복저장을 하지 않는다.


#### 3. Map 컬렉션
Map 컬렉션은 키key와 값value로 구성된 Map.Entry객체를 저장하는 구조를 가지고 있다.
Entry는 Map 인터페이스 내부에 선언된 중첩 인터페이스이다. 여기서 키와 값은 모두 객체이다.

키는 중복저장될 수 없지만 값은 중복저장될 수 있다. 만약 기존에 저장된 키와 동일한 키로 값을 저장하면 기존의 값은 없어지고 새로운 값으로 대체된다.

다음은  Map컬렉션에서 공통적으로 사용가능한 Map 인터페이스의 메소드들이다. 키로 객체들을 관리하기 때문에 키를 매개값으로 갖는 메소드가 많다.

|기능|메소드|설명|
|---|---|---|
|추가|V put(K key, V value)|주어진 키로 값을 저장한다. 새로운 키일 경우 null을, 동일한 키가 있을 경우 값을 대체하고 이전 값을 리턴한다.|
|검색|boolean containsKey(Object key)|주어진 키가 있는지 여부를 확인한다.|
|검색|boolean containsValue(Object value)|주어진 값이 있는지 여부를 확인한다.|
|검색|Set<Map.Entry<K,V>> entrySet()|키와 값의 쌍으로 구성된 모든 Map.Entry 객체를 Set에 담아서 리턴한다.|
|검색|V get(Object key)|주어진 키가 있는 값을 리턴한다.|
|검색|boolean isEmpty()|컬렉션이 비어 있는지 여부를 확인한다.|
|검색|Set<``K``> keySet()|모든 키를 Set객체에 담아서 리턴한다.|
|검색|int size()|저장된 키의 총 수를 리턴한다.|
|검색|Collection<``V``> values()|저장된 모든 값을 Collection에 담아서 리턴한다.|
|삭제|void clear()|모든 Map.Entry(키와 값)를 삭제한다.|
|삭제|V remove(Object key)|주어진 키와 일치하는 Map.Entry를 삭제하고 값을 리턴한다.|


1)HashMap 
```
Map<K, V> map = new HashMap<K, V>();
*K와 V는 각각 키와 값의 타입을 기술하면 된다.
```
키와 값의 타입은 기본 타입을 사용할 수 없고 클래스 및 인터페이스 타입만 사용가능하다.

