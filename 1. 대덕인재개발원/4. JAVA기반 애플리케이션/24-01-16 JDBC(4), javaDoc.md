### 2. javaDoc
만약 프로그램을 짜다가 사용방법을 모르는 클래스를 만났다.
그럼 어떡하지? 컨트롤+클릭으로도 뜨지 않는다면?
어쩌겠어 구글링해야지....

구글링을 하다보면 https://docs.oracle.com/javase/8/docs/api 라는 사이트를 만날 수 있다. 이 사이트에 가 보면 자바의 모든 클래스에 대한 설명이 있다.

우리가 만든 클래스에 대해서도 이런 식으로 설명을 달아줄 수 있다.
예전에는 프로그램과 매뉴얼을 따로 만들었는데, 프로그램이 커지고 시간이 촉박해지면 해당 매뉴얼이 어느 프로그램에 대한 설명인지 매칭해주는것이 점점 어려워진다... 그래서 프로그램 소스 안에 매뉴얼까지 같이 만드는 방법이 등장했다.
/**  주석을 이용한다.

###### 이런 인터페이스를 하나 만들었다고 치자.
```
package kr.or.ddit.doc0116;
//javaDoc문서 문서 만들기 예제
==> 프로그램과 매뉴얼을 같이 만드는 방법

/**
 * 여기가 매뉴얼역할을하는곳.
 * html태그를 쓸 수 있다.
 * @author 홍길동
 * @version 1.0
 * <p>
 * 파일명: JavaDocTest.java<br>
 * 설명: JavaDoc문서작성을 위한 연습용 interface<br>
 * 
 * 변경이력<br>
 * --------------------------------------------<br>
 * 변경 날짜: 2024-01-16
 * 변경인: 홍길동<br>
 * 변경내용: 최초생성<br>
 * =-------------------------------------------<br>
 * </p>
 */

public interface JavaDocTest {
	/**
	 * 메소드명: methodTest<br>
	 * 설명: 반환값이 없는 메서드<br><br>
	 * @param a 첫번째 매개변수(정수형)
	 * @param b 두번째 매개변수(정수형)
	 */
	public void methodTest(int a, int b);
	
	/**
	 * 메소드명: methodAdd<br>
	 * 설명: 반환값이 있는 메서드<br><br>
	 * 
	 * @param x 정수형 첫번째 데이터
	 * @param y 정수형 두번째 데이터
	 * @return 정수형 반환값
	 */
	public int methoAdd(int x, int y);
	
	/**
	 * 메소드명: methodInput<br>
	 * 설명: 매개변수가 없는 메소드<br><br>
	 * 
	 * @return 정수형 반환값
	 */
	public int methodInput();
}
```

###### 해당 인터페이스가 속한 프로젝트를 Export한다.
이 때 export wizard로 Javadoc을 선택하고, 
VM options 항목이 나오면 ``-charset utf-8 -encoding utf-8`` 을 입력해준다.

그럼 못보던 doc폴더가 생길 것이다.
파일 탐색기를 통해서 doc폴더를 찾아가 index.html을 켜 보면,

###### 이런 내용들을 볼 수 있다.

![[Pasted image 20240116204905.png]]
![[Pasted image 20240116204927.png]]


### 3. MVC 패턴
Model View Controller로 이루어진 패턴이다.
이게 무엇인지에 대한 자세한 설명은 [[숙제-싱글톤 패턴과 MVC 패턴|여기]]서 확인하자.

#### 1) MVC 패턴의 비지니스 로직을 처리하는 클래스들
###### 1. VO(Value Object), DTO(Data Transfer Object)
데이터를 저장하는 역할만 하는 클래스,
DB테이블에서 1개의 레코드를 저장할 클래스를 말한다.

매개변수로서 전달되고 리턴값으로 돌아온다.
테이블의 컬럼 수와 같은 수의 멤버변수가 필요하다.
되도록 컬럼명과 똑같이 쓴다.
###### 2. DAO(Data Access Object)
SQL쿼리문을 DB서버로 보내서 결과를 얻어오는 역할을 수행하는 클래스
이 클래스의 메소드 하나가 DB와 관련된 작업 1개를 수행한다.
dao쪽에는 view와 관련된 코드가 있어서는 안 된다. 순수하게 쿼리만 수행해야 한다.

###### 3. Serivce
일을 수행하는 중간 관리자와 같은 역할을 수행하는 클래스.
서비스는 일이 있으면 그 일에 필요한 DAO를 호출해서 일을 처리한 후 
처리 결과를 controller에게 전달한다.


dao나 service는 바로 클래스로 만들 수 있지만 보통 인터페이스(추상메소드만 있는 클래스, 메소드의 시그니처만 있는 클래스)를 먼저 만들고 시작한다.
다른 프로그램을 사용하더라도 service를 변경하지 않고도 사용할 수 있도록 표준, 기본 틀을 제공하기 위해서이다. (인터페이스를 왜 쓰는지 생각해보면 쉽다^.^)

###### 4. Controller
비즈니스 로직이 시작되는 곳으로 사용자의 요청이 오면 그 요청에 맞는 Service에게 일을 시키고, Service가 보내온 처리결과를 View에게 전달하는 역할을 수행한다.

#### 2) MVC 패턴 만들어보기

![[mvc1.png]]
MVC패턴은 이렇게 작동한다. 그럼 뭐부터 만들면 좋을까?
초급프로젝트 때 했던 것처럼 컨트롤러부터? 
그때 힘들었던 이유는 컨트롤러부터 만들어서가 아니었을까...

일반적으로는 VO를 먼저 만드는 게 좋다:
실제로 일을 하게 될 메소드의 매개변수/리턴값을 정하기 위해서이다.
VO→DAO→SERVICE→CONTROLLER순으로 만드는 것이 좋다.
<sub>초급프로젝트가 왜 그렇게 힘들었는지 하나하나 깨달아가는 순간이 기쁘고 슬프다...</sub> 

하단 이미지에 보이는대로 패키지와 클래스를 만들어주었다.
![[Pasted image 20240116212149.png]]

우리가 사용할 테이블의 컬럼은 5개로, 모두 varchar2 데이터이므로 VO는 이렇게 만들었다.
![[MemberVO.java]]

service와 dao는 인터페이스를 먼저 만들고,

![[Pasted image 20240116212601.png]]

인터페이스를 구현해주면 된다.

이용자에게서 데이터를 입력받는 것은 controller에서,
![[MemberController.java]]

해당 데이터를 받아 DAO로 넘겨주는 것은 Service에서,
![[MemberServiceImple.java]]

쿼리를 통해 DB와 연결한 후 데이터를 받아오는 건 DAO에서 진행한다.
![[MemberDaoImple.java]]

Service는 중개역할만 하기 때문에 매개변수를 받아 리턴값을 반환해주는 메소드만 있으면 되니 코드가 길 게 없다.
Controller에는 사용자에게 데이터를 받고 해당 데이터를 검증하는(진짜 아이디가 있는지 없는지...) 코드만, DAO에는 DB와 연결하는 코드 및 쿼리 코드만 있으면 된다.

Service에서는 DAO객체의, Controller에서는 Service 객체의 참조값이 저장될 변수를 선언해두는데, 이 때 선언은 구현클래스가 아니라 인터페이스로 선언해둔다.

뭔소리냐면,
```
private MemberDaoImple dao; //이게 아니라
private IMemberDao dao; //이걸로 선언해두고 

//생성자에서 구현객체를 생성하라는 의미다.
public MemberServiceImple() {
		//DAO객체 생성
		dao = new MemberDaoImple();
	}

```

이렇게 하는 이유는: 확장성을 고려해서이다. 
우리는 DB를 오라클로만 사용하지만 오라클이 아닌 다른 프로그램을 사용하게 될 경우를 해당 프로그램에 맞는 DAO도 담을 수 있게 하기 위함이다.